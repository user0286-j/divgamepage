<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        for (let i = 0; i < 30; i++){
            const link = document.createElement('link');
            link.rel = 'preload';
            link.as = 'image';
            link.href = `frame/${i}.webp`;
            document.head.appendChild(link);
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DivGame</title>

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=WDXL+Lubrifont+JP+N&display=swap" rel="stylesheet">
    <link rel="icon" href="logo.ico" type="img/png">
    <script type="module">
        const main = document.querySelector('main');
        const MAX_FRAMES = 29;
        let current_frame = 0;
        function updateImage(frame = 0){
            if (frame > MAX_FRAMES) frame = MAX_FRAMES;
            const src = `frame/${frame}.webp`;
            img.src = src;
        }

        // Inicializar
        const img = document.createElement('img');
        main.appendChild(img);
        updateImage(current_frame)

        // Altura m谩xima
        let maxScroll = 2*window.innerHeight;

        window.addEventListener('resize', ()=>{
            maxScroll =  2*window.innerHeight;
        });

        let lastFrameUpdate = 0;

        window.addEventListener('scroll', ()=>{
            if (Date.now() - lastFrameUpdate < 1) return true;
            // Actualizar el contador
            lastFrameUpdate = Date.now();
            // current position
            const scrollPosition = window.scrollY;
            // Calcular el porcentaje
            const scrollFraction = scrollPosition / maxScroll;
            // What frame do you play?
            const frame = Math.floor(scrollFraction*MAX_FRAMES);

            if (current_frame !== frame){
                updateImage(frame)
                current_frame = frame;
            }

        });
    </script>
    
</head>
<body>
    <main>
        <header>
        </header>           
    </main>
    <div class="introduction">
        <h2>Introducci贸n</h2>
        <p id="intro-text">
            Teniendo como denominaci贸n oficial, Development and Innovation in Videogames
            o abreviadamente DivGames, consiste en una asociaci贸n de estudiantes de la Escuela
            Profesional de Ingenier铆a Inform谩tica y de Sistemas, y dem谩s escuelas profesionales 
            interesados en este tema como Electr贸nica, etc.
        </p>
    </div>

    <div class="segundo">

    </div>

    <div class="tercero">
        <div class="historia">
            <h2>Historia</h2>
            <p>El CeDeV fue establecido el d铆a 29 de agosto del 2023 por estudiantes de pregrado
                de la Escuela Profesional de Ingenier铆a Inform谩tica y de Sistemas de la Universidad
                Nacional de San Antonio Abad del Cusco y posteriormente, el 26 de septiembre del
                2023, cambi贸 su nombre a Div-Games<br><br>
            
            </p>
        </div>
        
    </div>

    <div class="cuarto">
        <!--Begin: Secci贸n de divisiones-->
        <div class="quinto">
            <h2>Divisiones</h2>
            <div class="divisiones">
                <div class="division">
                    <img class="img_division" src="div/arte2.jpeg">
                </div>
                <div class="division">
                    <img class="img_division" src="div/desarrollo2.jpeg">
                </div>
                <div class="division">
                    <img class="img_division" src="div/musica2.jpeg">
                </div>
                <div class="division">
                    <img class="img_division" src="div/narracion2.jpeg">
                </div>
            </div>
        </div>

        <div class="junta">
            <h2>Junta directiva</h2>
            <!-- Presidente-->
            <div class="persona">
                    <img class="persona-imagen" src="profile/presidente.jpeg" alt="presidente">
                <div class="persona-texto">
                    <h3>Amilcar Estacio Medrano</h3>
                    <h4>Presidente</h4>
                    <p>
                        "Herbalife me cambi贸 la vida, yo antes era un nerd de metro cincuenta, pero cuando apareci贸 por esa puerta Tony Rosado con su paquete de herbalife, no le tenia esperanzas, hasta que mi amigo EsoTilin lo prob贸, y a las semanas se volvi贸 viral en internet. De ahi algo cambio dentro mio, y decid铆 darle una oportunidad, sin duda, Mi vida mejor贸 notablemente, antes me demoraba 4 horas en el ba帽o, ahora me demoro 2 グ, Unete tu tambien a Herbalife y cambia tu vida"
                    </p>
                </div>
            </div>

            <!-- Vicepresidente-->
            <div class="persona">
                    <img class="persona-imagen" src="profile/cesar.jpg" alt="presidente">
                <div class="persona-texto">
                    <h3>Cesar Ciro Olante Bautista</h3>
                    <h4>Vicepresidente</h4>
                    <p>
                        Entusiasta dentro del mundo del gamedevelopment, con ganas de dejar marca en mi pais :3
                    </p>
                </div>
            </div>

            <!-- Secretario-->
            <div class="persona">
                    <img class="persona-imagen" src="profile/foto.jpg" alt="presidente">
                <div class="persona-texto">
                    <h3>Andr茅 Marcelo Mendoza Mayta</h3>
                    <h4>Secretario</h4>
                    <p>
                        Entusiasta dentro del mundo del gamedevelopment, con ganas de dejar marca en mi pais :3
                    </p>
                </div>
            </div>

            <!-- Vocal Principal-->
            <div class="persona">
                    <img class="persona-imagen" src="profile/foto.jpg" alt="presidente">
                <div class="persona-texto">
                    <h3>Julio Cesar Sotelo Quispe </h3>
                    <h4>Vocal Principal</h4>
                    <p>
                        Entusiasta dentro del mundo del gamedevelopment, con ganas de dejar marca en mi pais :3
                    </p>
                </div>
            </div>

            <!-- Vocal Auxiliar-->
            <div class="persona">
                    <img class="persona-imagen" src="profile/kevin.jpeg" alt="presidente">
                <div class="persona-texto">
                    <h3>Kevin Choquecahua</h3>
                    <h4>Vocal Auxiliar</h4>
                    <p>
                        Entusiasta dentro del mundo del gamedevelopment, con ganas de dejar marca en mi pais :3
                    </p>
                </div>
            </div>
        </div>

        
    </div>

    
        <!--End: Secci贸n de divisiones-->
    <script src="app.js"></script>
    <script>
    (function() {
        const p = document.getElementById('intro-text');
        const fullText = p.textContent;
        p.textContent = '';
        let i = 0;
        let started = false;
        function typeWriter() {
            if (i < fullText.length) {
                p.textContent += fullText.charAt(i);
                i++;
                setTimeout(typeWriter, 5);
            }
        }
        function checkScroll() {
            const rect = p.getBoundingClientRect();
            const windowHeight = window.innerHeight || document.documentElement.clientHeight;
            if (!started && rect.top < windowHeight && rect.bottom > 0) {
                started = true;
                typeWriter();
                window.removeEventListener('scroll', checkScroll);
            }
        }
        window.addEventListener('scroll', checkScroll);
        checkScroll();
    })();
    </script>
</body>
</html>